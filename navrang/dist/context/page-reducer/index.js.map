{"version":3,"file":"index.js","sources":["../../../src/context/page-reducer.ts"],"sourcesContent":["import { PageActionType, PageState } from \"../types\";\r\n\r\nconst setValueForKey = (state: PageState, key: string, value: any) => {\r\n    const nodes = key.split(\".\");\r\n    let element: any = {};\r\n\r\n    try {\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            if (i === nodes.length - 1) {\r\n                element = state.data.current[nodes[i]];\r\n            } else if (i < nodes.length - 1) {\r\n                element = element[nodes[i]];\r\n            } else {\r\n                element = element[nodes[i]];\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n};\r\n\r\nconst PageReducer = (state: PageState, action: any) => {\r\n    switch (action.type) {\r\n        case PageActionType.SET_INITIAL_STATE:\r\n            state.formConfig = action.payload.formConfig;\r\n            state.data.original = action.payload.data;\r\n            state.data.current = action.payload.page ?? action.payload.data;\r\n            state.uiState.isLoading = false;\r\n            break;\r\n        case PageActionType.SET_STATE_FOR_KEY:\r\n            setValueForKey(state, action.payload.dataKey, action.payload.value);\r\n            break;\r\n        case PageActionType.REFRESH_DATA:\r\n            state.data.original = action.payload.data;\r\n            state.data.current = action.payload.page ?? action.payload.data;\r\n            break;\r\n        case PageActionType.SET_ACTIONS:\r\n            state.actions = action.payload;\r\n            break;\r\n        default:\r\n            throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n};\r\n\r\nexport default PageReducer;\r\n"],"names":[],"mappings":";;AAEA,IAAM,cAAc,GAAG,UAAC,KAAgB,EAAE,GAAW,EAAE,KAAU,EAAA;IAC7D,IAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC7B,IAAI,OAAO,GAAQ,EAAE,CAAC;IAEtB,IAAI;AACA,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACnC,YAAA,IAAI,CAAC,KAAK,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,gBAAA,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1C,aAAA;AAAM,iBAAA,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7B,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,aAAA;AAAM,iBAAA;gBACH,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,aAAA;AACJ,SAAA;AACJ,KAAA;AAAC,IAAA,OAAO,KAAK,EAAE;AACZ,QAAA,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACxB,KAAA;AACL,CAAC,CAAC;AAEF,IAAM,WAAW,GAAG,UAAC,KAAgB,EAAE,MAAW,EAAA;;IAC9C,QAAQ,MAAM,CAAC,IAAI;QACf,KAAK,cAAc,CAAC,iBAAiB;YACjC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC;YAC7C,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;AAC1C,YAAA,KAAK,CAAC,IAAI,CAAC,OAAO,GAAG,MAAA,MAAM,CAAC,OAAO,CAAC,IAAI,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;AAChE,YAAA,KAAK,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;YAChC,MAAM;QACV,KAAK,cAAc,CAAC,iBAAiB;AACjC,YAAA,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpE,MAAM;QACV,KAAK,cAAc,CAAC,YAAY;YAC5B,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;AAC1C,YAAA,KAAK,CAAC,IAAI,CAAC,OAAO,GAAG,MAAA,MAAM,CAAC,OAAO,CAAC,IAAI,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;YAChE,MAAM;QACV,KAAK,cAAc,CAAC,WAAW;AAC3B,YAAA,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAC/B,MAAM;AACV,QAAA;YACI,MAAM,IAAI,KAAK,CAAC,yBAAA,CAAA,MAAA,CAA0B,MAAM,CAAC,IAAI,CAAE,CAAC,CAAC;AAChE,KAAA;AACL;;;;"}